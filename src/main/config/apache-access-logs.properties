        //configuration for agent
        agent.sources = spooling-source
        agent.sinks = phoenix-sink
        agent.channels = memoryChannel
 
        //configuration for channel
        agent.channels.memoryChannel.type=memory
        agent.channels.memoryChannel.transactionCapacity=100
        agent.channels.memoryChannel.byteCapacityBufferPercentage=20

        //configuration for source
        agent.sources.spooling-source.type=spooldir
        agent.sources.spooling-source.channels = memoryChannel
        agent.sources.spooling-source.spoolDir = /opt/logs

        //configuration for interceptor
        agent.sources.spooling-source.interceptors = i1
        agent.sources.spooling-source.interceptors.i1.type = host
        agent.sources.spooling-source.interceptors.i1.hostHeader = f_host

        //configuration for sink
        agent.sinks.phoenix-sink.type=com.salesforce.phoenix.flume.sink.PhoenixSink
        agent.sinks.phoenix-sink.channel = memoryChannel
        agent.sinks.phoenix-sink.batchSize = 100
        agent.sinks.phoenix-sink.table = APACHE_LOGS
        agent.sinks.phoenix-sink.ddl = CREATE TABLE IF NOT EXISTS APACHE_LOGS(uid VARCHAR NOT NULL, host   VARCHAR ,identity  VARCHAR  ,user  VARCHAR  ,time VARCHAR ,method VARCHAR ,request VARCHAR,protocol  VARCHAR,status INTEGER ,size INTEGER ,referer  VARCHAR ,agent VARCHAR,f_host VARCHAR  CONSTRAINT pk PRIMARY  KEY (uid))
        agent.sinks.phoenix-sink.zookeeperQuorum = localhost
        agent.sinks.phoenix-sink.serializer = REGEX
      
        agent.sinks.phoenix-sink.serializer.rowkeyType = uuid
        agent.sinks.phoenix-sink.serializer.regex = ([^ ]*) ([^ ]*) ([^ ]*) (-|\\[[^\\]]*\\]) \"([^ ]+) ([^ ]+) ([^\"]+)\" (-|[0-9]*) (-|[0-9]*)(?: ([^ \"]*|\"[^\"]*\") ([^ \"]*|\"[^\"]*\"))?
        agent.sinks.phoenix-sink.serializer.columns = host,identity,user,time,method,request,protocol,status,size,referer,agent
        agent.sinks.phoenix-sink.serializer.headers = f_host

